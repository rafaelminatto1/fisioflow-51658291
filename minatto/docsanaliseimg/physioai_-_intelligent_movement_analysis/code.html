<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>PhysioAI - Intelligent Movement Analysis</title>

    <!-- React & Router -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/history@5/umd/history.development.js"></script>
    <script src="https://unpkg.com/react-router@6.3.0/umd/react-router.development.js"></script>
    <script src="https://unpkg.com/react-router-dom@6.3.0/umd/react-router-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Noto+Sans:wght@300..800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>

    <!-- Tailwind Config -->
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#137fec",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101922",
                    },
                    fontFamily: {
                        "display": ["Manrope", "Noto Sans", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>

    <style>
        /* Base styles from source */
        body {
            min-height: max(884px, 100dvh);
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .material-symbols-filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        /* Custom scrollbar hide */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
  </head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        const { MemoryRouter, Routes, Route, Link, useNavigate } = ReactRouterDOM;

        // --- Components ---

        const NewAnalysisScreen = () => {
            const navigate = useNavigate();
            const [selectedMedia, setSelectedMedia] = useState(false);

            const handleCamera = () => {
                navigate('/record');
            };

            const handleLibrary = () => {
                // Mock selecting an item
                setSelectedMedia(true);
            };

            const handleStartAnalysis = () => {
                if (selectedMedia) {
                    navigate('/results');
                }
            };

            return (
                <div className="relative flex h-full min-h-screen w-full flex-col overflow-hidden max-w-md mx-auto shadow-2xl bg-background-light dark:bg-background-dark border-x border-slate-200 dark:border-slate-800">
                    {/* Top App Bar */}
                    <header className="flex items-center p-4 pb-2 justify-between bg-background-light dark:bg-background-dark sticky top-0 z-10">
                        <button className="text-slate-900 dark:text-white flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors">
                            <span className="material-symbols-outlined text-2xl">arrow_back_ios_new</span>
                        </button>
                        <h2 className="text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-10">New Analysis</h2>
                    </header>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col px-4 pb-24 overflow-y-auto no-scrollbar">
                        {/* Description */}
                        <div className="py-4">
                            <p className="text-slate-500 dark:text-slate-400 text-base font-normal leading-normal text-center">
                                Upload patient scans, photos, or record movement videos for AI analysis.
                            </p>
                        </div>

                        {/* Empty State / Preview Area */}
                        <div className="flex flex-col py-2">
                            <div 
                                onClick={handleLibrary}
                                className={`relative flex flex-col items-center justify-center gap-6 rounded-xl border-2 border-dashed ${selectedMedia ? 'border-primary bg-primary/5' : 'border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/30'} px-6 py-14 transition-colors hover:border-primary/50 group cursor-pointer`}
                            >
                                <div className="flex flex-col items-center gap-3 text-center">
                                    <div className={`size-16 rounded-full flex items-center justify-center transition-colors ${selectedMedia ? 'bg-primary text-white' : 'bg-slate-200 dark:bg-slate-800 text-slate-400 dark:text-slate-500 group-hover:text-primary'}`}>
                                        <span className="material-symbols-outlined text-4xl">
                                            {selectedMedia ? 'check' : 'add_a_photo'}
                                        </span>
                                    </div>
                                    <div className="space-y-1">
                                        <p className="text-slate-900 dark:text-white text-lg font-bold leading-tight">
                                            {selectedMedia ? 'Media Selected' : 'No media selected'}
                                        </p>
                                        <p className="text-slate-500 dark:text-slate-400 text-sm font-normal">
                                            {selectedMedia ? 'Ready for analysis' : 'Tap here to quick start or use options below'}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Action List */}
                        <div className="flex flex-col gap-3 mt-6">
                            <h3 className="text-slate-900 dark:text-white text-sm font-bold uppercase tracking-wider px-2 mb-1 opacity-70">Add Media</h3>
                            
                            {/* Camera Action */}
                            <button onClick={handleCamera} className="flex items-center gap-4 bg-white dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98]">
                                <div className="flex items-center justify-center rounded-lg bg-primary/10 text-primary shrink-0 size-12">
                                    <span className="material-symbols-outlined">photo_camera</span>
                                </div>
                                <div className="flex flex-col items-start flex-1">
                                    <p className="text-slate-900 dark:text-white text-base font-bold leading-normal">Open Camera</p>
                                    <p className="text-slate-500 dark:text-slate-400 text-xs font-normal">Take new photos or videos</p>
                                </div>
                                <span className="material-symbols-outlined text-slate-400">chevron_right</span>
                            </button>

                            {/* Library Action */}
                            <button onClick={handleLibrary} className="flex items-center gap-4 bg-white dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98]">
                                <div className="flex items-center justify-center rounded-lg bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 shrink-0 size-12">
                                    <span className="material-symbols-outlined">photo_library</span>
                                </div>
                                <div className="flex flex-col items-start flex-1">
                                    <p className="text-slate-900 dark:text-white text-base font-bold leading-normal">Choose from Library</p>
                                    <p className="text-slate-500 dark:text-slate-400 text-xs font-normal">Import from your gallery</p>
                                </div>
                                <span className="material-symbols-outlined text-slate-400">chevron_right</span>
                            </button>

                            {/* Document Scan Action */}
                            <button className="flex items-center gap-4 bg-white dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98]">
                                <div className="flex items-center justify-center rounded-lg bg-purple-500/10 text-purple-600 dark:text-purple-400 shrink-0 size-12">
                                    <span className="material-symbols-outlined">document_scanner</span>
                                </div>
                                <div className="flex flex-col items-start flex-1">
                                    <p className="text-slate-900 dark:text-white text-base font-bold leading-normal">Scan Medical Report</p>
                                    <p className="text-slate-500 dark:text-slate-400 text-xs font-normal">Digitize physical documents</p>
                                </div>
                                <span className="material-symbols-outlined text-slate-400">chevron_right</span>
                            </button>
                        </div>

                        {/* Info Note */}
                        <div className="mt-6 flex items-start gap-2 px-2">
                            <span className="material-symbols-outlined text-slate-400 text-lg mt-0.5">info</span>
                            <p className="text-xs text-slate-500 dark:text-slate-400 leading-relaxed">
                                For best results, ensure movement videos are under 60 seconds and recorded in good lighting.
                            </p>
                        </div>
                    </main>

                    {/* Fixed Bottom Submission Bar */}
                    <div className="absolute bottom-0 left-0 right-0 p-4 bg-background-light dark:bg-background-dark border-t border-slate-200 dark:border-slate-800/50 backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90">
                        <button 
                            onClick={handleStartAnalysis}
                            disabled={!selectedMedia}
                            className={`w-full font-bold text-base py-4 rounded-xl flex items-center justify-center gap-2 transition-all ${
                                selectedMedia 
                                ? 'bg-primary text-white shadow-lg shadow-primary/25 hover:bg-blue-600' 
                                : 'bg-slate-200 dark:bg-slate-800 text-slate-400 dark:text-slate-500 cursor-not-allowed'
                            }`}
                        >
                            <span>Start Analysis</span>
                            {selectedMedia && <span className="material-symbols-outlined text-xl">arrow_forward</span>}
                        </button>
                    </div>
                </div>
            );
        };

        const RecordingScreen = () => {
            const navigate = useNavigate();

            const handleStop = () => {
                navigate('/results');
            };

            const handleBack = () => {
                navigate('/');
            };

            return (
                <div className="bg-background-light dark:bg-background-dark font-display text-white overflow-hidden h-screen w-full">
                    {/* Main Container: Simulates the phone screen area */}
                    <div className="relative h-full w-full flex flex-col group/design-root">
                        
                        {/* Background Video Feed Simulation */}
                        <div className="absolute inset-0 z-0 bg-gray-900">
                            <div className="absolute inset-0 bg-cover bg-center opacity-90" style={{ backgroundImage: "url('https://lh3.googleusercontent.com/aida-public/AB6AXuAr21jEOqc_3ApjnhVJwQMyJkwlttCWVWefbRKEjfH9RdyMtNF-pVOhSdeg1kNOlGPf-45hMjct0xlTmbKDaEflJ7uld1mz-NlUEMo_etpFxTHPhgILYcoUnfghmyTf3S5QFB5SF8qSxvczxzjUBpTZe1fKxU4iX6GKVWQGxYKcYHJ-izhkQdNsGgzCFhdS9-PqqDW6_X1MIm3pXke2VnP_3z-2nR41iAJv8U6JR0WdOi1XHxgkzUdqoDKNR4m2XYY_UAxUtnntZMM')" }}>
                            </div>
                            {/* Dark Gradient Overlay for text readability */}
                            <div className="absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-black/80"></div>
                            
                            {/* AR Overlay Simulation */}
                            <svg className="absolute inset-0 w-full h-full pointer-events-none" xmlns="http://www.w3.org/2000/svg">
                                {/* Leg lines */}
                                <line className="opacity-80 drop-shadow-lg" stroke="#137fec" strokeLinecap="round" strokeWidth="3" x1="65%" x2="55%" y1="55%" y2="70%"></line>
                                <line className="opacity-80 drop-shadow-lg" stroke="#137fec" strokeLinecap="round" strokeWidth="3" x1="55%" x2="75%" y1="70%" y2="85%"></line>
                                {/* Joint points */}
                                <circle className="drop-shadow-md" cx="65%" cy="55%" fill="#ffffff" r="6"></circle>
                                <circle className="animate-pulse drop-shadow-md" cx="55%" cy="70%" fill="#137fec" r="8" stroke="white" strokeWidth="2"></circle>
                                <circle className="drop-shadow-md" cx="75%" cy="85%" fill="#ffffff" r="6"></circle>
                                {/* Angle Arc */}
                                <path d="M 60% 65% Q 55% 70% 62% 75%" fill="none" stroke="white" strokeDasharray="4 2" strokeWidth="1.5"></path>
                            </svg>
                        </div>

                        {/* Foreground UI Layer (Z-10) */}
                        <div className="relative z-10 flex flex-col h-full justify-between safe-area-padding">
                            {/* Top App Bar */}
                            <header className="flex items-center justify-between p-4 pt-12 pb-6 w-full">
                                {/* Back Button */}
                                <button onClick={handleBack} className="flex items-center justify-center size-10 rounded-full bg-black/20 backdrop-blur-sm border border-white/10 hover:bg-black/40 transition-colors">
                                    <span className="material-symbols-outlined text-white">arrow_back</span>
                                </button>
                                {/* Timer / Session Status */}
                                <div className="flex items-center gap-2 px-4 py-1.5 rounded-full bg-black/30 backdrop-blur-md border border-white/5">
                                    <div className="size-2 rounded-full bg-red-500 animate-pulse"></div>
                                    <span className="text-base font-bold tracking-wide tabular-nums">00:15</span>
                                </div>
                                {/* Settings */}
                                <button className="flex items-center justify-center size-10 rounded-full bg-black/20 backdrop-blur-sm border border-white/10 hover:bg-black/40 transition-colors">
                                    <span className="material-symbols-outlined text-white">settings</span>
                                </button>
                            </header>

                            {/* Center Content Area (Feedback Toast) */}
                            <div className="flex-1 flex flex-col items-center justify-center p-6">
                                {/* Transient Feedback Banner */}
                                <div className="mt-auto mb-12 transform transition-all duration-300">
                                    <div className="flex flex-col items-center gap-1 px-6 py-3 rounded-xl bg-black/50 backdrop-blur-md border border-white/10 shadow-lg">
                                        <div className="flex items-center gap-2 text-primary-300">
                                            <span className="material-symbols-outlined text-yellow-400 text-xl">warning</span>
                                            <h2 className="text-lg font-bold leading-tight tracking-tight text-white">Straighten your back</h2>
                                        </div>
                                        <p className="text-xs font-medium text-white/70 uppercase tracking-wider">Form Correction</p>
                                    </div>
                                </div>
                            </div>

                            {/* Bottom Control Panel */}
                            <div className="flex flex-col w-full pb-8 px-4 gap-6">
                                {/* Metrics / Stats Cards */}
                                <div className="flex gap-3 overflow-x-auto no-scrollbar snap-x snap-mandatory">
                                    {/* Card 1: Knee Flexion */}
                                    <div className="flex min-w-[140px] flex-1 flex-col gap-1 rounded-2xl p-4 bg-background-dark/80 backdrop-blur-md border border-white/5 snap-center shadow-lg">
                                        <div className="flex items-center justify-between">
                                            <p className="text-gray-400 text-xs font-semibold uppercase tracking-wider">Knee Flexion</p>
                                            <span className="material-symbols-outlined text-primary text-sm">show_chart</span>
                                        </div>
                                        <div className="flex items-baseline gap-1">
                                            <p className="text-white text-2xl font-bold leading-tight">45°</p>
                                            <span className="text-gray-400 text-xs font-medium">/ 90°</span>
                                        </div>
                                        {/* Mini visual indicator bar */}
                                        <div className="w-full bg-gray-700 h-1 rounded-full mt-2 overflow-hidden">
                                            <div className="bg-primary h-full rounded-full" style={{ width: '50%' }}></div>
                                        </div>
                                    </div>
                                    {/* Card 2: Rep Count */}
                                    <div className="flex min-w-[140px] flex-1 flex-col gap-1 rounded-2xl p-4 bg-background-dark/80 backdrop-blur-md border border-white/5 snap-center shadow-lg">
                                        <div className="flex items-center justify-between">
                                            <p className="text-gray-400 text-xs font-semibold uppercase tracking-wider">Reps</p>
                                            <span className="material-symbols-outlined text-green-400 text-sm">check_circle</span>
                                        </div>
                                        <div className="flex items-baseline gap-1">
                                            <p className="text-white text-2xl font-bold leading-tight">3</p>
                                            <span className="text-gray-400 text-xs font-medium">/ 10</span>
                                        </div>
                                        <div className="w-full bg-gray-700 h-1 rounded-full mt-2 overflow-hidden">
                                            <div className="bg-green-500 h-full rounded-full" style={{ width: '30%' }}></div>
                                        </div>
                                    </div>
                                    {/* Card 3: Accuracy */}
                                    <div className="flex min-w-[140px] flex-1 flex-col gap-1 rounded-2xl p-4 bg-background-dark/80 backdrop-blur-md border border-white/5 snap-center shadow-lg">
                                        <div className="flex items-center justify-between">
                                            <p className="text-gray-400 text-xs font-semibold uppercase tracking-wider">Accuracy</p>
                                            <span className="material-symbols-outlined text-blue-400 text-sm">verified</span>
                                        </div>
                                        <p className="text-white text-2xl font-bold leading-tight">92%</p>
                                        <div className="w-full bg-gray-700 h-1 rounded-full mt-2 overflow-hidden">
                                            <div className="bg-blue-500 h-full rounded-full" style={{ width: '92%' }}></div>
                                        </div>
                                    </div>
                                </div>

                                {/* Camera Controls Row */}
                                <div className="flex items-center justify-between px-4 pt-2">
                                    {/* Gallery / Library */}
                                    <button className="flex shrink-0 items-center justify-center rounded-full size-12 bg-black/40 text-white hover:bg-black/60 backdrop-blur-sm border border-white/10 transition-all">
                                        <span className="material-symbols-outlined">photo_library</span>
                                    </button>
                                    
                                    {/* Shutter / Record Button */}
                                    <button onClick={handleStop} className="group relative flex items-center justify-center size-20 rounded-full border-4 border-white bg-transparent transition-transform active:scale-95">
                                        <div className="size-16 rounded-full bg-red-500 group-hover:bg-red-600 transition-colors shadow-[0_0_15px_rgba(239,68,68,0.5)] flex items-center justify-center">
                                            <span className="material-symbols-outlined text-white text-4xl">stop</span>
                                        </div>
                                    </button>
                                    
                                    {/* Flip Camera */}
                                    <button className="flex shrink-0 items-center justify-center rounded-full size-12 bg-black/40 text-white hover:bg-black/60 backdrop-blur-sm border border-white/10 transition-all">
                                        <span className="material-symbols-outlined">flip_camera_ios</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const ResultsScreen = () => {
            const navigate = useNavigate();

            const handleBack = () => {
                navigate('/');
            };

            const handleSave = () => {
                navigate('/');
            };

            return (
                <div className="relative flex h-full min-h-screen w-full flex-col overflow-x-hidden">
                    {/* Top App Bar */}
                    <div className="sticky top-0 z-50 flex items-center bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm p-4 pb-2 justify-between border-b border-gray-200 dark:border-gray-800">
                        <div onClick={handleBack} className="text-gray-900 dark:text-white flex size-12 shrink-0 items-center cursor-pointer hover:opacity-70 transition-opacity">
                            <span className="material-symbols-outlined" style={{fontSize: "24px"}}>arrow_back_ios_new</span>
                        </div>
                        <h2 className="text-gray-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">Analysis Results</h2>
                        <div className="flex w-12 items-center justify-end">
                            <button className="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 bg-transparent text-gray-900 dark:text-white gap-2 text-base font-bold leading-normal tracking-[0.015em] min-w-0 p-0 hover:text-primary transition-colors">
                                <span className="material-symbols-outlined" style={{fontSize: "24px"}}>ios_share</span>
                            </button>
                        </div>
                    </div>

                    {/* Main Content Area */}
                    <div className="flex-1 flex flex-col gap-2 pb-24">
                        {/* Media Player / Viewer */}
                        <div className="px-4 pt-2">
                            <div className="relative w-full rounded-xl overflow-hidden shadow-lg group">
                                {/* Background Image with Overlay */}
                                <div className="relative flex items-center justify-center bg-gray-200 dark:bg-gray-800 bg-cover bg-center aspect-[4/3] w-full" style={{ backgroundImage: 'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAoVJFBEwp281wbEiZQz8SlW28_VyaVCZ3EAy9ubimlXbAAls89yMVHvVU5IRRMaK5DtcCDccmwrFQltdLnuNtNXmsMMQik3qHBIzFNKX4NTV5Ws_syqyIpjjn2hXNMagMXay5KeqfXaML7apRr-ExO-_EBoDYKiZWcG2cw9Ghj530iHTzeDE-0-eFeqKVh4Eu-XXTj3zl3rrDOWMFDUwQ6QE8ihEX5oRo9aZGWSMDfJVVZOlfnGfSIezlNcQImoJHUBv9Cd4dPV8U")' }}>
                                    {/* SVG Overlay Mockup for Skeletal Tracking */}
                                    <svg className="absolute inset-0 w-full h-full pointer-events-none opacity-80" viewBox="0 0 400 300">
                                        {/* Example lines representing skeletal structure */}
                                        <path d="M 200 80 L 200 150 L 170 240" fill="none" stroke="#137fec" strokeLinecap="round" strokeWidth="3"></path>
                                        <path d="M 200 150 L 230 240" fill="none" stroke="#137fec" strokeLinecap="round" strokeWidth="3"></path>
                                        <path d="M 170 80 L 230 80" fill="none" stroke="#137fec" strokeLinecap="round" strokeWidth="3"></path>
                                        {/* Joints */}
                                        <circle cx="200" cy="80" fill="white" r="4"></circle>
                                        <circle cx="200" cy="150" fill="white" r="4"></circle>
                                        <circle cx="170" cy="240" fill="white" r="4"></circle>
                                        <circle cx="230" cy="240" fill="white" r="4"></circle>
                                    </svg>
                                    {/* Play Button */}
                                    <button className="flex shrink-0 items-center justify-center rounded-full size-16 bg-black/40 text-white backdrop-blur-sm hover:bg-primary/90 hover:scale-105 transition-all">
                                        <span className="material-symbols-outlined" style={{fontSize: "32px"}}>play_arrow</span>
                                    </button>
                                    {/* Angle Overlay Badge */}
                                    <div className="absolute top-4 right-4 bg-black/60 backdrop-blur-md rounded-lg px-3 py-1.5 flex items-center gap-2 border border-white/10">
                                        <span className="material-symbols-outlined text-primary text-sm">straighten</span>
                                        <span className="text-white text-xs font-bold font-display">Knee: 112°</span>
                                    </div>
                                    {/* Video Controls Overlay */}
                                    <div className="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent pt-12 pb-4 px-4">
                                        <div className="flex items-center justify-between mb-2">
                                            <p className="text-white text-xs font-medium leading-normal tracking-[0.015em]">0:05 / 0:15</p>
                                            <button className="text-white hover:text-primary transition-colors">
                                                <span className="material-symbols-outlined" style={{fontSize: "20px"}}>fullscreen</span>
                                            </button>
                                        </div>
                                        <div className="flex h-1.5 w-full items-center bg-white/20 rounded-full cursor-pointer group/slider">
                                            <div className="h-full w-[35%] rounded-full bg-primary relative">
                                                <div className="absolute right-0 top-1/2 -translate-y-1/2 size-3 rounded-full bg-white shadow-sm scale-0 group-hover/slider:scale-100 transition-transform"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        {/* Timeline / Frame Scrubber */}
                        <div className="px-4 py-2">
                            <div className="@container">
                                <div className="relative flex w-full flex-col items-start justify-between gap-2 @[480px]:flex-row @[480px]:items-center">
                                    <div className="flex w-full shrink-[3] items-center justify-between">
                                        <p className="text-gray-900 dark:text-white text-base font-bold leading-normal">Frame Analysis</p>
                                        <div className="flex items-center gap-2">
                                            <button className="text-gray-500 hover:text-primary dark:text-gray-400 transition-colors">
                                                <span className="material-symbols-outlined" style={{fontSize: "20px"}}>skip_previous</span>
                                            </button>
                                            <span className="text-primary text-sm font-bold font-mono bg-primary/10 px-2 py-0.5 rounded">Frame 45</span>
                                            <button className="text-gray-500 hover:text-primary dark:text-gray-400 transition-colors">
                                                <span className="material-symbols-outlined" style={{fontSize: "20px"}}>skip_next</span>
                                            </button>
                                        </div>
                                    </div>
                                    {/* Film strip visual representation */}
                                    <div className="flex h-10 w-full items-center gap-1 overflow-hidden mt-2 rounded-lg opacity-60">
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0 border-2 border-primary"></div> {/* Active Frame */}
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                        <div className="h-full w-8 bg-gray-300 dark:bg-gray-700 rounded-sm shrink-0"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="h-px w-full bg-gray-200 dark:bg-gray-800 my-1"></div>

                        {/* Key Metrics Header */}
                        <div className="px-4 flex items-center justify-between pt-2">
                            <h3 className="text-gray-900 dark:text-white text-xl font-bold leading-tight">Key Metrics</h3>
                            <button className="text-primary text-sm font-medium hover:underline">View All</button>
                        </div>

                        {/* Stats Cards (Horizontal Scroll) */}
                        <div className="flex overflow-x-auto gap-4 px-4 pb-4 pt-2 snap-x hide-scrollbar">
                            {/* Card 1 */}
                            <div className="flex min-w-[160px] flex-col gap-3 rounded-xl p-4 bg-white dark:bg-[#1E2228] border border-gray-100 dark:border-gray-800 shadow-sm snap-start">
                                <div className="flex items-center justify-between">
                                    <p className="text-gray-500 dark:text-gray-400 text-sm font-medium leading-normal">Cervical Tilt</p>
                                    <span className="material-symbols-outlined text-red-500 text-lg">warning</span>
                                </div>
                                <div>
                                    <p className="text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight tabular-nums">12°</p>
                                    <p className="text-red-500 text-xs font-bold uppercase tracking-wider mt-1">+ High Risk</p>
                                </div>
                            </div>
                            {/* Card 2 */}
                            <div className="flex min-w-[160px] flex-col gap-3 rounded-xl p-4 bg-white dark:bg-[#1E2228] border border-gray-100 dark:border-gray-800 shadow-sm snap-start">
                                <div className="flex items-center justify-between">
                                    <p className="text-gray-500 dark:text-gray-400 text-sm font-medium leading-normal">Shoulder Level</p>
                                    <span className="material-symbols-outlined text-green-500 text-lg">check_circle</span>
                                </div>
                                <div>
                                    <p className="text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight tabular-nums">0°</p>
                                    <p className="text-green-500 text-xs font-bold uppercase tracking-wider mt-1">Optimal</p>
                                </div>
                            </div>
                            {/* Card 3 */}
                            <div className="flex min-w-[160px] flex-col gap-3 rounded-xl p-4 bg-white dark:bg-[#1E2228] border border-gray-100 dark:border-gray-800 shadow-sm snap-start">
                                <div className="flex items-center justify-between">
                                    <p className="text-gray-500 dark:text-gray-400 text-sm font-medium leading-normal">Pelvic Tilt</p>
                                    <span className="material-symbols-outlined text-yellow-500 text-lg">remove</span>
                                </div>
                                <div>
                                    <p className="text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight tabular-nums">4°</p>
                                    <p className="text-yellow-500 text-xs font-bold uppercase tracking-wider mt-1">Normal Range</p>
                                </div>
                            </div>
                            {/* Card 4 */}
                            <div className="flex min-w-[160px] flex-col gap-3 rounded-xl p-4 bg-white dark:bg-[#1E2228] border border-gray-100 dark:border-gray-800 shadow-sm snap-start">
                                <div className="flex items-center justify-between">
                                    <p className="text-gray-500 dark:text-gray-400 text-sm font-medium leading-normal">Knee Flexion</p>
                                    <span className="material-symbols-outlined text-primary text-lg">info</span>
                                </div>
                                <div>
                                    <p className="text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight tabular-nums">112°</p>
                                    <p className="text-primary text-xs font-bold uppercase tracking-wider mt-1">Deep</p>
                                </div>
                            </div>
                        </div>

                        {/* Findings Accordion / Summary List */}
                        <div className="px-4 flex flex-col gap-4">
                            {/* Analysis Summary */}
                            <div className="bg-white dark:bg-[#1E2228] rounded-xl p-5 border border-gray-100 dark:border-gray-800">
                                <div className="flex items-center gap-3 mb-3">
                                    <div className="bg-primary/10 p-2 rounded-lg text-primary">
                                        <span className="material-symbols-outlined">analytics</span>
                                    </div>
                                    <h4 className="text-gray-900 dark:text-white font-bold text-lg">Assessment Summary</h4>
                                </div>
                                <p className="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
                                    Patient demonstrates slight forward head posture during the initial phase. Right shoulder elevation observed during the abduction phase, suggesting potential trapezius tightness.
                                </p>
                            </div>

                            {/* Recommendations */}
                            <div className="bg-white dark:bg-[#1E2228] rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800">
                                <div className="p-5 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                                    <div className="flex items-center gap-3">
                                        <div className="bg-green-500/10 p-2 rounded-lg text-green-600 dark:text-green-500">
                                            <span className="material-symbols-outlined">fitness_center</span>
                                        </div>
                                        <h4 className="text-gray-900 dark:text-white font-bold text-lg">Recommendations</h4>
                                    </div>
                                    <span className="material-symbols-outlined text-gray-400">expand_more</span>
                                </div>
                                <div className="px-5 pb-5 pt-0">
                                    <ul className="flex flex-col gap-3">
                                        <li className="flex items-start gap-3">
                                            <span className="material-symbols-outlined text-primary text-sm mt-0.5">check_circle</span>
                                            <div>
                                                <p className="text-gray-900 dark:text-white text-sm font-bold">Chin Tucks</p>
                                                <p className="text-gray-500 dark:text-gray-400 text-xs">3 sets of 10 reps daily to correct cervical posture.</p>
                                            </div>
                                        </li>
                                        <li className="flex items-start gap-3">
                                            <span className="material-symbols-outlined text-primary text-sm mt-0.5">check_circle</span>
                                            <div>
                                                <p className="text-gray-900 dark:text-white text-sm font-bold">Scapular Retractions</p>
                                                <p className="text-gray-500 dark:text-gray-400 text-xs">Focus on lower trapezius activation.</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            {/* Risk Factors (Collapsed) */}
                            <div className="bg-white dark:bg-[#1E2228] rounded-xl overflow-hidden border border-gray-100 dark:border-gray-800 opacity-80">
                                <div className="p-5 flex items-center justify-between cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                                    <div className="flex items-center gap-3">
                                        <div className="bg-red-500/10 p-2 rounded-lg text-red-500">
                                            <span className="material-symbols-outlined">warning</span>
                                        </div>
                                        <h4 className="text-gray-900 dark:text-white font-bold text-lg">Risk Factors</h4>
                                    </div>
                                    <span className="material-symbols-outlined text-gray-400">chevron_right</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Sticky Footer / FAB Area */}
                    <div className="fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background-light dark:from-background-dark via-background-light dark:via-background-dark to-transparent z-40 pb-8">
                        <button onClick={handleSave} className="w-full flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold text-base h-14 rounded-full shadow-lg shadow-primary/25 transition-all active:scale-[0.98]">
                            <span className="material-symbols-outlined">save</span>
                            Save to Patient Record
                        </button>
                    </div>
                </div>
            );
        };

        const App = () => {
            return (
                <MemoryRouter>
                    <Routes>
                        <Route path="/" element={<NewAnalysisScreen />} />
                        <Route path="/record" element={<RecordingScreen />} />
                        <Route path="/results" element={<ResultsScreen />} />
                    </Routes>
                </MemoryRouter>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>